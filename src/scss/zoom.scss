// styles for the image zoom widget function
//


// utility mixins
@mixin cursor-grab {
    cursor: grab;
}

@mixin cursor-grabbing {
    cursor: grabbing;
}

@mixin zoom-transition-out {
    transition: all 0.25s ease-in;
}


// zoom widget attributes



$zoom-icon-position-top: 0px;
$zoom-icon-position-right: 0px;

$zoom-corner-size: 50px;
$zoom-corner-color: rgba(#000000, 0.5);

// hit width & height determine size of target hit area
// min = $zoom-corner-width
$zoom-hit-width: $zoom-corner-size + 40;
$zoom-hit-height: $zoom-corner-size + 40;

// default icon glyph
$zoom-icon-position-x: 6px;
$zoom-icon-position-y: 5px;
$zoom-icon-glyph:   "\f002";  // fa-search
$zoom-icon-font-size: 1rem;

// transformation when hovering
$zoom-icon-font-size-hover: 1.6rem;



// overrides for the regular figure image border behavior.
// the zoomable version requires a more complicated enveloping of the img. named ".image-zoom"
// turn on the border for the envelope, turn off the border on the figure image.
// position relative in order to make the icon position correctly on load.
// .figure-bordered.zoom {
//     .image-zoom {
//         position: relative;
//         display: block; // attempted fix for space underneath
// 
//         img {
//             border: 0;
//         }
//     }
// }

.image-zoom {
    display: inline-block;

    // bit overlaying the image with "zoom" glyph
    .zoom-glyph {
        z-index: 2;

        display: inline-block;
        position: absolute;
        top: $zoom-icon-position-top;
        right: $zoom-icon-position-right;
        width: $zoom-hit-width;
        height: $zoom-hit-height;

        // css-generated corner overlay
        .corner {
            position: absolute;
            top: 0;
            right: 0;
            border-top: $zoom-corner-size solid $zoom-corner-color;
            border-left: $zoom-corner-size solid transparent;
            @include zoom-transition-out;
        }

        // magnifying glass icon
        .icon {
            display: inline-block;
            position: absolute;
            top: $zoom-icon-position-y;
            right: $zoom-icon-position-x;
            color: #FFF;
            font-family: FontAwesome;
            font-size: $zoom-icon-font-size;
            content: $zoom-icon-glyph;
            @include zoom-transition-out;
        }
    }

    // animation effect for the zoom icon on hover
    &:hover {
        .zoom-glyph {
            .corner {
                border-top-width: $zoom-corner-size + 15;
                border-left-width: $zoom-corner-size + 15;
                transition: border 0.51s ease-in-out;
            }
            .icon {
                top: 5px;
                right: 6px;
                font-size: $zoom-icon-font-size-hover;
                transition: font 0.3s ease-out .1s;
            }
        }
    }
        
    img {
        display: block;

        &::selection {
            background-color: transparent;
        }

        &:hover {
            @include cursor-grab;
        }

        &:active {
            @include cursor-grabbing;
        }
    }
}



// styling for the demo. not required for the widget
.zoom-example {
    figure {
        width: 500px;
        height: auto;
    }
}